Schema for sponsorTimes_mini.csv

This file is a minimised version of the SponsorBlock database with redundant information removed to reduce file size while retaining all necessary data. Below is a detailed schema to guide the transformation from the original format to the minimised format and back.

Columns: UUID, userID, videoID, startTime, endTime, categoryType, votes, hiddenShadowHiddenLocked, timeSubmitted

Column Transformations:

    UUID:
        Original: 64-character hex string (sometimes with a version number prepended or appended)
        Transformation: Re-encoded in base64, with zero-padding for odd lengths
        Example:
            Original: 2a83fc5211ed2cbfc61fc285dfbbfe0933bed3eb3c0a8def3136948aa6c719717
            Padded: 02a83fc5211ed2cbfc61fc285dfbbfe0933bed3eb3c0a8def3136948aa6c719717
            Base64: Aqg/xSEe0sv8YfwoXfu/4JM77T6zwKje8xNpSKpscZcX

    userID:
        Original: 64-character hex string
        Transformation: Re-encoded in base64, with zero-padding for odd lengths
        Example:
            Original: 6b1c73ae7b1e60aef2d73c5de8f3ee06d220f836e0f8c5daa9255f8c2b4a2c9b
            Base64: axxzrnseYK7y1zxd6PPuBtIg+Dbg+MXaqSVfjCtKLJs
    videoID:
        Original: Unchanged
        Transformation: None

    startTime:
        Original: Floating-point number
        Transformation: Rounded to 2 decimal places; trailing zeros removed.
        Example: 123.4567 becomes 123.46

    endTime:
        Original: Floating-point number
        Transformation: Rounded to 2 decimal places; trailing zeros removed.
        Example: 123.4500 becomes 123.45

    categoryType:
        Original: String representing category
        Transformation: Single-character encoding:
            "sponsor" -> "s"
            "selfpromo" -> "u"
            "intro" -> "i"
            "outro" -> "o"
            "preview" -> "p"
            "interaction" -> "r"
            "poi_highlight" -> "h"
            "exclusive_access" -> "e"
            "filler" -> "f"
            "chapter" -> "c"
            "music_offtopic" -> "n"

    votes:
        Original: Integer
        Transformation: Unchanged

    hiddenShadowHiddenLocked:
        Original: Three boolean values in separate columns
        Transformation: Packed into a three-bit binary number and converted to decimal (0-7).
        Example:
            hidden = 1, shadowHidden = 0, locked = 1 -> 101 in binary -> 5 in decimal.

    timeSubmitted:
        Original: Unix timestamp.
        Transformation: Subtract the SponsorBlock Epoch (1564088876) from the timestamp.
        Example:
            Original: 1564098876
            Minimized: 1564098876 - 1564088876 = 10000

Notes on Base64 Encoding:

    Zero-Padding: If the hex string length is odd, prepend a zero before converting to base64. Most UUIDs and userIDs are 64 characters; some IDs have a version number appended or prepended, making the length 65, or 66 after padding.
    Example:
        Original: 2a83fc5211ed2cbfc61fc285dfbbfe0933bed3eb3c0a8def3136948aa6c719717
        Padded: 02a83fc5211ed2cbfc61fc285dfbbfe0933bed3eb3c0a8def3136948aa6c719717
        Base64: Aqg/xSEe0sv8YfwoXfu/4JM77T6zwKje8xNpSKpscZcX